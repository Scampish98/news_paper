{% extends 'default.html' %}

{% load custom_filters %}

{% block title %}
News
{% endblock title%}

{% block content %}
<section class='page flex-column'>
  <h1>Всего {{ posts|length }} новостей </h1>
  {% for post in posts %}
  <div class='page__post card m-4'>
    <div class='card-body'>
      <h2 class='header__title card-title'>{{ post.title|censor }}</h2>
      <p class='header__created-at card-subtitle text-muted'>{{ post.created_at|date:"d.m.Y" }}</p>
      <p class='post__content card-text'>
        {{ post.text|censor|truncatewords:50 }}
        <a class='content__button card-link' href="/news/{{ post.id }}">Подробнее</a>
      </p>
    </div>
  </div>
  </tr>
  {% endfor %}
</section>
{% endblock content %}